<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Thursday, November 12, 2020, 12:55 PM -->
<!-- MuClient version 5.07-pre -->

<!-- Plugin "Tallimos_MarketSearch" generated by Plugin Wizard -->

<muclient>
<plugin
   name="Tallimos_MarketSearch"
   author="Tallimos"
   id="cb926e05698e4709d8fc6cff"
   language="Lua"
   purpose="Script used to help filter the market display. "
   save_state="y"
   date_written="2020-11-12 12:53:53"
   requires="4.50"
   version="1.0"
   >

</plugin>


<!--  Get our standard constants -->

<include name="constants.lua"/>

<!--  Triggers  -->

<triggers>
	<trigger
		group="MarketSearchTrig"
		match="^\s+\[ Aardwolf Marketplace \- Current List of Inventory \]$"
		regexp="y"
		sequence="100"
		script="MarketSearchTitle"
		omit_from_output="y"
		>
	</trigger>
	<trigger
		group="MarketSearchFilterBlankLine"
		match="^$"
		regexp="y"
		sequence="100"
		omit_from_output="y"
		>
	</trigger>
	<trigger
		group="MarketSearchTrig"
		match="^Type\: \'Lbid \<num\>\' to see stats and \'Lbid \<num\> \<amount\>\' to bid on an item\."
		regexp="y"
		script="MarketSearchDisable"
		sequence="100"
		omit_from_output="y"
		>
	</trigger>
	<trigger
		group="MarketSearchFilterTrig"
		match="^(?:\*|\s+)(\d+)\s(.*?)\s+(\d+)\s+(\*| )(Gold|Tp|Qp)?G.+$"
		regexp="y"
		script="MarketSearchFilter"
		sequence="100"
		omit_from_output="y"
		>
	</trigger>
	<trigger
		group="MarketSearchFilterTrig"
		match="^(?:\*|\s+)(\d+)\s+(.*?)\s+(\d+)\s+(\*| )(Tp|Qp)\s+(.*?)\s+(\d+)\s+(\d+)d?(\s?)(:|\d+)(:|\d+)(:|\d+)(:|\d+)(:|\d+)$"
		regexp="y"
		script="MarketSearchFilter"
		sequence="100"
		omit_from_output="y"
		>
	</trigger>	
	<trigger
		group="IgnoreAardWords"
		match="^(?:\*|\s+)(\d+)\sAardWords(.*?)\s+(\d+)\s+(\*| )(Gold|Tp|Qp)?G.+$"
		regexp="y"
		sequence="90"
		omit_from_output="y"
		>
	</trigger>
	<trigger
		group="IgnoreAarch"
		match="^(?:\*|\s+)(\d+)\sAarchaeology(.*?)\s+(\d+)\s+(\*| )(Gold|Tp|Qp)?G.+$"
		regexp="y"
		sequence="100"
		omit_from_output="y"
		>
	</trigger>
</triggers>

<!--  Timers  -->

<timers>
</timers>

<!--  Aliases  -->

<aliases>
	<alias
		match="checkaarch"
		enabled="y"
		group="MarketChecking"
		sequence="100"
		>
		<send>
			lbid -f treasure special
		</send>
	</alias>
	<alias
		match="checkbonus"
		enabled="y"
		group="MarketChecking"
		sequence="100"
		>
		<send>
			market search bonus
		</send>
	</alias>
	<alias
		match="checkore"
		enabled="y"
		group="MarketChecking"
		sequence="100"
		>
		<send>
			lbid -f hold 200 201
		</send>
	</alias>
	<alias
		match="^tms help$"
		enabled="y"
		script="MarketSearch_help"
		sequence="100"
		regexp="y"
		>
	</alias>
	<alias
		match="^tms help (.*?)$"
		enabled="y"
		script="MarketSearch_help_menu"
		sequence="100"
		regexp="y"
		>
	</alias>
	<alias
		match="^tms (.*?)$"
		enabled="y"
		script="MarketSearch"
		sequence="110"
		regexp="y"
		>
	</alias>
	<alias
		match="^tms (.*?) (\d+) (\d+)$"
		enabled="y"
		script="MarketSearchLevel"
		sequence="110"
		regexp="y"
		>
	</alias>
	<alias
		match="^tms (head|eyes|ear|neck|back|torso|body|waist|arms|wrist|hands|finger|legs|feet|shield|hold|float)$"
		enabled="y"
		script="MarketSearchWearable"
		sequence="100"
		regexp="y"
		>
	</alias>
	<alias
		match="^tms (armor|container|boat|drink|food|fountain|light|pill|scroll|potion|wand|treasure|weapon)$"
		enabled="y"
		script="MarketSearchEQType"
		sequence="100"
		regexp="y"
		>
	</alias>
	<alias
		match="^tms (str|int|wis|con|dex|luck|hp|mana|move|hitroll|damroll|hr|dr)$"
		enabled="y"
		script="MarketSearchStat"
		sequence="100"
		regexp="y"
		>
	</alias>
		<alias
		match="^tmr ((head|eyes|ear|neck|back|torso|body|waist|arms|wrist|hands|finger|legs|feet|shield|hold|float)|(armor|container|boat|drink|food|fountain|light|pill|scroll|potion|wand|treasure|weapon)|(qp|tp|gold)|(str|int|wis|con|dex|luck|hp|mana|move|hitroll|damroll|hr|dr)|precious|special|bonus|showcase|closing|mine|outbid|clanitem)$"
		enabled="y"
		script="MarketTest"
		sequence="100"
		regexp="y"
		>
	</alias>
</aliases>


<script>
<![CDATA[

require "tprint"
require "mw_theme_base"
require "serialize"
require "commas"
require "gmcphelper"
require "copytable"
require "aardmapper"
require "aard_lua_extras"
require "wait"

local msg_colour      = "darkslategrey"
local err_colour      = "firebrick"
local help_colour     = "royalblue"
local qty_colour      = "yellow"
local optional_colour = "lightcoral"
local command_colour  = "white"
local cmd_required    = "royalblue"
local help_command_colour  = "red"

SearchItem = ""
OreCheck = "NO"
minlevel = 0
maxlevel = 0
searchtitle = ""

function MarketSearchTitle()

	local title = "[ Aardwolf Marketplace - Search: " .. searchtitle .. " ]"

	local leng = tonumber(string.len(title))
	local spacing = 0
	local lendif = 0
	
	if leng > 78 then
	else
		lendif = 78 - leng
		lendif = lendif * 0.5
	end

	spacing = string.rep(" ", lendif)
	
	ColourNote("white", "", spacing, "white", "", "[ ", "lime", "", "Aardwolf Marketplace - Search: ", "red", "", searchtitle, "white", "", " ]")
	Note()
	
end

function MarketTest(name, line, wc)

	ColourNote("blue", "", "wc[1] - ", "white", "", wc[1])
	
end

function MarketSearch(name, line, wc)

	if GetPluginInfo (GetPluginID ("3ae386f3fb52d4eeabdb8e27"), 17) == true then
		CallPlugin ("3ae386f3fb52d4eeabdb8e27", "MarketDisable", "")
	end

	if GetPluginInfo (GetPluginID ("e518b45e68ce472f311048c8"), 17) == true then
		CallPlugin ("e518b45e68ce472f311048c8", "MarketDisable", "")
	end

	local search = string.lower(wc[1])
	
	if  search == nil or search == "" then

		ColourNote(err_colour, "", "Please enter something to search the market for")
	
	elseif search == "chaos" or search == "chaos portal" or search == "cp" then
		
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		SearchItem = "chaos"
		searchtitle = "Chaos Portals"
		
		SendNoEcho ("lbid -f portal hold 1 1")
	
	elseif search == "portal" or search == "portals" then
		
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Portals"
		
		SendNoEcho ("lbid -f portal")

	elseif search == "poker" then
		
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)

		searchtitle = "Poker Cards"
		
		SendNoEcho ("lbid -f trash hold 1 1")
	
	elseif search == "aarch" or search == "aarchaeology" then
	
		if GetPluginInfo (GetPluginID ("3ae386f3fb52d4eeabdb8e27"), 17) == true then
			CallPlugin ("3ae386f3fb52d4eeabdb8e27", "MarketEnable", "")
		end

		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("IgnoreAardWords", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		SearchItem = "aarchaeology"
		
		searchtitle = "Aarchaeology"
		
		SendNoEcho ("lbid -f treasure hold 1 1")
	
	elseif search == "aardwords" or search == "aardword" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		SearchItem = "aardword"
		searchtitle = "AardWords"
		
		SendNoEcho ("lbid -f treasure hold 1 1")

	elseif search == "bonus" or search == "bloot" or search == "bonusloot" or search == "bonus loot" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Bonus Loot"
		
		SendNoEcho ("market search bonus")

	elseif search == "qp" then

		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "QP Listings"
		
		SendNoEcho ("lbid -f qp")
	
	elseif search == "tp" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "TP Listings"
		
		SendNoEcho ("lbid -f tp")
		
	elseif search == "gold" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Gold Listings"
		
		SendNoEcho ("lbid -f gold")

	elseif search == "showcase" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Showcase Listings"
		
		SendNoEcho ("lbid -f showcase")

	elseif search == "clanitem" or search == "clan item" or search == "clan" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Clan Items"
		
		SendNoEcho ("lbid -f clanitem")
		
	elseif search == "outbid" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Outbidded Items"
		
		SendNoEcho ("lbid -f outbid")

	elseif search == "mine" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "My Items Forsale"
		
		SendNoEcho ("lbid -f mine")
		
	elseif search == "ore" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		world.EnableGroup ("MarketSearchFilterTrig", 1)
		world.EnableGroup ("IgnoreAardWords", 1)
		
		searchtitle = "Ore"
		
		OreCheck = "YES"
		
		SendNoEcho ("lbid")

	elseif search == "closing" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Items Closing in next 3 hours"
		
		SendNoEcho ("lbid -f closing")		

	else
	
		SearchItem = search
		
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
	
		searchtitle = search
		
		SendNoEcho ("lbid")
		
	end
	
end

function MarketSearchLevel(name, line, wc)

	if GetPluginInfo (GetPluginID ("3ae386f3fb52d4eeabdb8e27"), 17) == true then
		CallPlugin ("3ae386f3fb52d4eeabdb8e27", "MarketDisable", "")
	end

	if GetPluginInfo (GetPluginID ("e518b45e68ce472f311048c8"), 17) == true then
		CallPlugin ("e518b45e68ce472f311048c8", "MarketDisable", "")
	end

	local search = string.lower(wc[1])

	minlevel = tonumber(wc[2])	
	maxlevel = tonumber(wc[3])
	
	if  search == nil or search == "" then

		ColourNote(err_colour, "", "Please enter something to search the market for")
		
	elseif search == "portal" or search == "portals" then
		
		world.EnableGroup ("MarketSearchTrig", 1)

		searchtitle = "Portals between levels " .. minlevel .. " - " .. maxlevel
		
		SendNoEcho ("lbid -f portal " .. minlevel .. " " .. maxlevel)


	elseif search == "bonus" or search == "bloot" or search == "bonusloot" or search == "bonus loot" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		
		searchtitle = "Bonus Loot between levels " .. minlevel .. " - " .. maxlevel

		SendNoEcho ("market search bonus " .. minlevel .. " " .. maxlevel)

	elseif search == "qp" then

		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)

		searchtitle = "QP Listings between levels " .. minlevel .. " - " .. maxlevel

		SendNoEcho ("lbid -f qp " .. minlevel .. " " .. maxlevel)
	
	elseif search == "tp" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "TP Listings between levels " .. minlevel .. " - " .. maxlevel

		SendNoEcho ("lbid -f tp " .. minlevel .. " " .. maxlevel)
		
	elseif search == "gold" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Gold Listings between levels " .. minlevel .. " - " .. maxlevel
		
		SendNoEcho ("lbid -f gold " .. minlevel .. " " .. maxlevel)

	elseif search == "showcase" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Showcase Listings between levels " .. minlevel .. " - " .. maxlevel
		
		SendNoEcho ("lbid -f showcase " .. minlevel .. " " .. maxlevel)

	elseif search == "clanitem" or search == "clan item" or search == "clan" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Clan Items between levels " .. minlevel .. " - " .. maxlevel
		
		SendNoEcho ("lbid -f clanitem " .. minlevel .. " " .. maxlevel)
		
	elseif search == "outbid" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Outbidded items between levels " .. minlevel .. " - " .. maxlevel
		
		SendNoEcho ("lbid -f outbid " .. minlevel .. " " .. maxlevel)

	elseif search == "mine" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "My Items Forsale between levels " .. minlevel .. " - " .. maxlevel
		
		SendNoEcho ("lbid -f mine " .. minlevel .. " " .. maxlevel)
		
	elseif search == "ore" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		world.EnableGroup ("MarketSearchFilterTrig", 1)
		world.EnableGroup ("IgnoreAardWords", 1)
		
		searchtitle = "Ore Listings between levels " .. minlevel .. " - " .. maxlevel
		
		OreCheck = "YES"
		
		SendNoEcho ("lbid -f " .. minlevel .. " " .. maxlevel)

	elseif search == "closing" then
	
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = "Listings Closing in 3 hours between levels " .. minlevel .. " - " .. maxlevel
		
		SendNoEcho ("lbid -f closing " .. minlevel .. " " .. maxlevel)		

	else
	
		SearchItem = search
		
		world.EnableGroup ("MarketSearchTrig", 1)
		world.EnableGroup ("MarketSearchFilterTrig", 1)
		world.EnableGroup ("MarketSearchFilterBlankLine", 1)
		
		searchtitle = search .. " between levels " .. minlevel .. " - " .. maxlevel
		
		SendNoEcho ("lbid -f " .. minlevel .. " " .. maxlevel)
		
	end
	
end

function MarketSearchEQType(name, line, wc)

	if GetPluginInfo (GetPluginID ("3ae386f3fb52d4eeabdb8e27"), 17) == true then
		CallPlugin ("3ae386f3fb52d4eeabdb8e27", "MarketDisable", "")
	end

	if GetPluginInfo (GetPluginID ("e518b45e68ce472f311048c8"), 17) == true then
		CallPlugin ("e518b45e68ce472f311048c8", "MarketDisable", "")
	end

	local search = string.lower(wc[1])

	world.EnableGroup ("MarketSearchTrig", 1)
	world.EnableGroup ("MarketSearchFilterBlankLine", 1)
	
	SendNoEcho ("lbid -f " .. search)
	
end

function MarketSearchWearable(name, line, wc)

	if GetPluginInfo (GetPluginID ("3ae386f3fb52d4eeabdb8e27"), 17) == true then
		CallPlugin ("3ae386f3fb52d4eeabdb8e27", "MarketDisable", "")
	end

	if GetPluginInfo (GetPluginID ("e518b45e68ce472f311048c8"), 17) == true then
		CallPlugin ("e518b45e68ce472f311048c8", "MarketDisable", "")
	end

	world.EnableGroup ("MarketSearchTrig", 1)
	world.EnableGroup ("MarketSearchFilterBlankLine", 1)
	
	local search = string.lower(wc[1])
	
	SendNoEcho ("lbid -f " .. search)
	
end

function MarketSearchStat(name, line, wc)

	if GetPluginInfo (GetPluginID ("3ae386f3fb52d4eeabdb8e27"), 17) == true then
		CallPlugin ("3ae386f3fb52d4eeabdb8e27", "MarketDisable", "")
	end

	if GetPluginInfo (GetPluginID ("e518b45e68ce472f311048c8"), 17) == true then
		CallPlugin ("e518b45e68ce472f311048c8", "MarketDisable", "")
	end

	local search = string.lower(wc[1])
	
	if search == "hr" then
		search = "hitroll"
	elseif search == "dr" then
		search = "damroll"
	end
	
	world.EnableGroup ("MarketSearchTrig", 1)
	world.EnableGroup ("MarketSearchFilterBlankLine", 1)
	
	SendNoEcho ("lbid -f " .. search)
	
end


function MarketSearchFilter(name, line, wc, styles)
	
	search = string.lower(wc[2])
	
	if OreCheck == "YES" then

		local icefallore = "icefall ore"
		local infernoore = "fiery ore"
		local titanore = "liquid ore"
		local SearchItem = " ore "
		local SearchItem2 = " ore"
		
		if string.find(search,SearchItem) == nil and string.find(search,SearchItem2) == nil and string.find(search,icefallore) == nil and string.find(search,infernoore) == nil and string.find(search,titanore) == nil then
		else
			for i, s in ipairs(styles) do
				ColourTell(RGBColourToName(s.textcolour), "", s.text)
			end
		end
	
	elseif OreCheck == "NO" then
	
		if string.find(search,SearchItem) == nil then
		else
			for i, s in ipairs(styles) do
				ColourTell(RGBColourToName(s.textcolour), "", s.text)
			end
		end
		
	end
	
end

function MarketSearchDisable()

	world.EnableGroup ("MarketSearchTrig", 0)
	world.EnableGroup ("MarketSearchFilterTrig", 0)
	world.EnableGroup ("IgnoreAardWords", 0)
	world.EnableGroup ("MarketSearchFilterBlankLine", 0)

	OreCheck = "NO"
	minlevel = 0
	maxlevel = 0
	
	if GetPluginInfo (GetPluginID ("3ae386f3fb52d4eeabdb8e27"), 17) == true then
		CallPlugin ("3ae386f3fb52d4eeabdb8e27", "MarketEnable", "")
	end
	
	if GetPluginInfo (GetPluginID ("e518b45e68ce472f311048c8"), 17) == true then
		CallPlugin ("e518b45e68ce472f311048c8", "MarketEnable", "")
	end

end

--------------------------------------------
-------------- HELP FUNCTIONS --------------
--------------------------------------------

function MarketSearch_help_menu(name, line, wc)

	if wc[1] == nil or wc[1] == "" then
	
	else
		helptype = string.lower(wc[1])
		
		if helptype == "custom" then
			MarketSearch_help_custom()
		elseif helptype == "mudside" then
			MarketSearch_help_mudside()
		else
			ColourNote(err_colour, "", "Invalid option, please see ", help_command_colour, "", "tms help ", err_colour, "", "for a list of valid entries.")
		end
	end
	
end

function MarketSearch_help()	

	local title = "Tallimos' Market Search Help"
	local title2 = "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-="
	
	local leng = tonumber(string.len(title))
	local leng2 = tonumber(string.len(title2))
	
	local spacing = 0
	local lendif = 0
	
	if leng > leng2 then
	else
		lendif = leng2 - leng
		lendif = lendif * 0.5
	end

	spacing = string.rep(" ", lendif)
		
	ColourNote(help_colour, "", spacing, help_command_colour, "", "Tallimos' Market Search Help")
	ColourNote(help_colour, "", "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=")
	Note("")

	ColourNote(help_command_colour, "", "tms help custom", help_colour, "", "  - to see help on customized market search options")
	Note("")

	ColourNote(help_command_colour, "", "tms help mudside", help_colour, "", " - to see help on the mudside market search commands in a simplified")
	ColourNote(help_colour, "", "                   version")
	Note("")
		
	ColourNote(help_colour, "", "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=")
	Note("")

end	-- MarketSearch_help

function MarketSearch_help_custom()	

	local title = "Tallimos' Market Search - Customized Commands Help"
	local title2 = "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-="
	
	local leng = tonumber(string.len(title))
	local leng2 = tonumber(string.len(title2))
	
	local spacing = 0
	local lendif = 0
	
	if leng > leng2 then
	else
		lendif = leng2 - leng
		lendif = lendif * 0.5
	end

	spacing = string.rep(" ", lendif)
	
	ColourNote(help_colour, "", spacing, help_command_colour, "", "Tallimos' Market Search - Customized Commands Help")
	ColourNote(help_colour, "", "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=")
	ColourNote(help_colour, "", "Listed here are commands only available via this plugin. With these commands it will")
	ColourNote(help_colour, "", "browsing the market a lot easier.")
	ColourNote(help_colour, "", "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=")
	Note("")

	ColourNote(help_colour, "", "List of Commands")
	ColourNote(help_colour, "", "----------------")
	Note("")
	
	ColourNote(help_command_colour, "", "tms <search item>", help_colour, "", " - displays items on the market that match what the user inputs.")
	ColourNote(qty_colour, "", "                    PLEASE NOTE", help_colour, "", ": this search is limited to what displays under")
	ColourNote(help_colour, "", "                    Item Description. For example - If you search for 'cloak' and")
    ColourNote(help_colour, "", "                    in the Item Description it lists 'cloa' it will not match")
	Note("")

	ColourNote(help_command_colour, "", "tms chaos portal", help_colour, "", "  - displays blank chaos portals that are currently on the market")
	ColourNote(help_colour, "", "                    can also use '", qty_colour, "", "chaos", help_colour, "", "' and '", qty_colour, "", "cp", help_colour, "", "'")
	Note("")

	ColourNote(help_command_colour, "", "tms aarchaeology", help_colour, "", "  - displays aarchaeology pieces that are currently on the market")
	ColourNote(help_colour, "", "                    can also use '", qty_colour, "", "aarch", help_colour, "", "'")
	Note("")

	ColourNote(help_command_colour, "", "tms aardwords", help_colour, "", "     - display aardword tiles that are currently on the market can")
	ColourNote(help_colour, "", "                    also use '", qty_colour, "", "aardword", help_colour, "", "'")
	Note("")
	
	ColourNote(help_command_colour, "", "tms ore      ", help_colour, "", "     - displays ore that is currently on the market")
	Note("")

	ColourNote(help_colour, "", "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=")
	Note("")

end	-- MarketSearch_help_custom

function MarketSearch_help_mudside()	
	
	local title = "Tallimos' Market Search - Mudside Commands Help"
	local title2 = "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-="
	
	local leng = tonumber(string.len(title))
	local leng2 = tonumber(string.len(title2))
	
	local spacing = 0
	local lendif = 0
	
	if leng > leng2 then
	else
		lendif = leng2 - leng
		lendif = lendif * 0.5
	end

	spacing = string.rep(" ", lendif)
	
	ColourNote(help_colour, "", spacing, help_command_colour, "", "Tallimos' Market Search - Mudside Commands Help")
	ColourNote(help_colour, "", "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=")
	ColourNote(help_colour, "", "Listed here are all the commands provided by the mud, all simplified down into easy")
	ColourNote(help_colour, "", "to use commands")
	ColourNote(help_colour, "", "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=")
	Note("")

	ColourNote(help_colour, "", "List of Commands")
	ColourNote(help_colour, "", "----------------")
	Note("")
	
	ColourNote(help_command_colour, "", "tms <wear-flag>", help_colour, "", " - displays equipment with the specified wear slot that is currently")
	ColourNote(help_colour, "", "                  on the market. see '", qty_colour, "", "help wearable", help_colour, "", "' for acceptable options")
	Note("")

	ColourNote(help_command_colour, "", "tms <eq type>  ", help_colour, "", " - displays items with the specified eq type that is currently on the")
	ColourNote(help_colour, "", "                  market. see '", qty_colour, "", "help eq-types", help_colour, "", "' for acceptable options")
	Note("")

	ColourNote(help_command_colour, "", "tms <stat>     ", help_colour, "", " - displays items that modify a particular stat that is currently on")
	ColourNote(help_colour, "", "                  the market. available options are ", qty_colour, "", "str", help_colour, "", ", ", qty_colour, "", "int", help_colour, "", ", ", qty_colour, "", "wis", help_colour, "", ", ", qty_colour, "", "con", help_colour, "", ", ", qty_colour, "", "dex", help_colour, "", ", ", qty_colour, "", "luck", help_colour, "", ", ")
	ColourNote(help_colour, "", "                  ", qty_colour, "", "hp", help_colour, "", ", ", qty_colour, "", "mana", help_colour, "", ", ", qty_colour, "", "move", help_colour, "", ", ", qty_colour, "", "hitroll", help_colour, "", " and ", qty_colour, "", "damroll")
	Note("")

	ColourNote(help_command_colour, "", "tms precious", help_colour, "", "    - displays items that have the precious flag that is currently on the")
	ColourNote(help_colour, "", "                  market")
	Note("")

	ColourNote(help_command_colour, "", "tms special", help_colour, "", "     - displays aarchaeology pieces and poker cards that are currently")
	ColourNote(help_colour, "", "                  on the market see '", qty_colour, "", "tms help custom", help_colour, "", "' for customized commands to")
	ColourNote(help_colour, "", "                  make finding poker cards and aarchaeology pieces easier")
	Note("")

	ColourNote(help_command_colour, "", "tms bonusloot", help_colour, "", "   - displays bonusloot that is currently on the market can also use")
	ColourNote(help_colour, "", "                  '", qty_colour, "", "bloot", help_colour, "", "', '", qty_colour, "", "bonus", help_colour, "", "' and '", qty_colour, "", "bonus loot", help_colour, "", "'")
	Note("")

	ColourNote(help_command_colour, "", "tms <currency>", help_colour, "", "  - displays items on market that are forsale in the specified currency")
	ColourNote(help_colour, "", "                  available options are '", qty_colour, "", "qp", help_colour, "", "', '", qty_colour, "", "tp", help_colour, "", "' and '", qty_colour, "", "gold", help_colour, "", "'")
	Note("")

	ColourNote(help_command_colour, "", "tms showcase", help_colour, "", "    - displays market showcase items")
	Note("")

	ColourNote(help_command_colour, "", "tms closing", help_colour, "", "     - displays market items with less then three hours remaining")
	Note("")

	ColourNote(help_command_colour, "", "tms mine", help_colour, "", "        - displays market items that you have forsale")
	Note("")

	ColourNote(help_command_colour, "", "tms outbid", help_colour, "", "      - displays market items that you had bid on but were outbidded")
	ColourNote(help_colour, "", "                  provided they are still on the market")
	Note("")

	ColourNote(help_command_colour, "", "tms clanitem", help_colour, "", "    - displays open and closed clan eq that is current on the market")
	Note("")
	
	ColourNote(help_colour, "", "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=")
	Note("")

end	-- MarketSearch_help_mudside


function OnPluginInstall ()
	
	ColourNote(help_colour, "", "Thank you for installing Tallimos' Market Search. Please see ", help_command_colour, "", "tms help", help_colour, "", " for more information.")
	Note()
	
	ColourNote(qty_colour, "", "PLEASE NOTE", help_colour, "", ": This is a work in project so please report any thoughts, ideas or bugs to Tallimos.")
	Note()
	
	ColourNote(qty_colour, "", "Future Features", help_colour, "", " - Alert System")
	ColourNote(help_colour, "", "               ", help_colour, "", " - Ability to provide level ranges")
	ColourNote(help_colour, "", "               ", help_colour, "", " - other filters listed under help ifilter")
	ColourNote(help_colour, "", "               ", help_colour, "", " - YOUR IDEA HERE")
	Note()
	
end

-- Poker Cards for if needed in a script 
-- |A[Ace of Earth]A|
-- |E[Elemental of Earth]E|
-- |D[Demon of Earth]D|
-- |M[Mephit of Earth]M|
-- |10[Ten of Earth]10|
-- |9[Nine of Earth]9|
-- |8[Eight of Earth]8|
-- |7[Seven of Earth]7|
-- |6[Six of Earth]6|
-- |5[Five of Earth]5|
-- |4[Four of Earth]4|
-- |3[Three of Earth]3|
-- |2[Two of Earth]2|

-- |A[Ace of Air]A|
-- |E[Elemental of Air]E|
-- |D[Demon of Air]D|
-- |M[Mephit of Air]M|
-- |10[Ten of Air]10|
-- |9[Nine of Air]9|
-- |8[Eight of Air]8|
-- |7[Seven of Air]7|
-- |6[Six of Air]6|
-- |5[Five of Air]5|
-- |4[Four of Air]4|
-- |3[Three of Air]3|
-- |2[Two of Air]2|

-- |A[Ace of Water]A|
-- |E[Elemental of Water]E|
-- |D[Demon of Water]D|
-- |M[Mephit of Water]M|
-- |10[Ten of Water]10|
-- |9[Nine of Water]9|
-- |8[Eight of Water]8|
-- |7[Seven of Water]7|
-- |6[Six of Water]6|
-- |5[Five of Water]5|
-- |4[Four of Water]4|
-- |3[Three of Water]3|
-- |2[Two of Water]2|

-- |A[Ace of Fire]A|
-- |E[Elemental of Fire]E|
-- |D[Demon of Fire]D|
-- |M[Mephit of Fire]M|
-- |10[Ten of Fire]10|
-- |9[Nine of Fire]9|
-- |8[Eight of Fire]8|
-- |7[Seven of Fire]7|
-- |6[Six of Fire]6|
-- |5[Five of Fire]5|
-- |4[Four of Fire]4|
-- |3[Three of Fire]3|
-- |2[Two of Fire]2|

]]>
</script>
</muclient>
